# Next.js 開発用 Dockerfile
FROM node:22-alpine
WORKDIR /app

# 依存関係のインストール（開発）
COPY package.json package-lock.json ./
RUN npm ci

# ソースコード（ボリュームで上書きされる前提）
COPY . .

ENV NEXT_TELEMETRY_DISABLED=1
EXPOSE 3000

# Next.js の開発サーバを 0.0.0.0:3000 で起動
CMD ["npm", "run", "dev", "--", "-H", "0.0.0.0", "-p", "3000"]
